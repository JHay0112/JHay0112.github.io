---
layout: post
title: Measuring RC Circuit Current with an Arduino
date: '2021-09-26T22:07:00.002+13:00'
author: Jordan Hay
tags:
- Programming
- circuits
- Investigation
- Microcontrollers
- DIY
- Arduino
- Electronics
- Technology
modified_time: '2021-10-19T16:39:15.689+13:00'
thumbnail: https://1.bp.blogspot.com/-lHpf0ZGiFPw/YVAwH-1GwTI/AAAAAAAAH5M/FUT8GQZ9ccosblU4nCsP6kXaufPKeBWdQCPcBGAsYHg/s72-w300-c-h400/IMG_20210925_115751220.jpg
blogger_id: tag:blogger.com,1999:blog-1327285918509002434.post-465513769405954985
blogger_orig_url: https://blog.jordanhay.com/2021/09/measuring-rc-circuit-current-with.html
---

<p>Using the analog pins of an Arduino it is possible to measure the voltage across a resistor. With a known value of resistor this can be used to deduce the current flowing in a circuit* using ohm's law</p><p style="text-align: center;">$$\begin{align}\Delta V = IR\end{align}$$</p><p>With the ability of an Arduino to quickly and accurately sample the voltages analysis can be performed that far outstrips the ability of a human with a multimeter. To highlight this the following experiment was conducted in order to verify the equation describing the current in an Resistor and Capacitor (RC) circuit</p><p style="text-align: center;">$$\begin{align}I(t) = \frac{\varepsilon}{R}e^{-\frac{t}{RC}}\end{align}$$</p><p style="text-align: left;">Where $I(t)$ is the current as a function of time, $\varepsilon$ the voltage provided to the circuit, $R$ the resistance of the resistor in the circuit, and $C$ the capacitance of the capacitor. A general rule of thumb for RC circuits is that the capacitor will charge in 5 time units $\tau$ where&nbsp;</p><p style="text-align: center;">$$\begin{align}\tau = RC\end{align}$$</p><p style="text-align: left;">Given a capacitor of size $100\times 10^{-6} F$ and a resistor $220 \Omega$, the capacitor will reach capacity in roughly $0.11 s$. An almost unobservable amount of time for a human, however these were the components selected for the analysis.<br /></p><p style="text-align: left;">The circuit and arduino was set up per Figure 1 with analog pins A0 and A1 connected either side of the resistor, and +5V and GND pins used to power the circuit.<br /></p><p></p><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://1.bp.blogspot.com/-lHpf0ZGiFPw/YVAwH-1GwTI/AAAAAAAAH5M/FUT8GQZ9ccosblU4nCsP6kXaufPKeBWdQCPcBGAsYHg/s4096/IMG_20210925_115751220.jpg" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="4096" data-original-width="3072" height="400" src="https://1.bp.blogspot.com/-lHpf0ZGiFPw/YVAwH-1GwTI/AAAAAAAAH5M/FUT8GQZ9ccosblU4nCsP6kXaufPKeBWdQCPcBGAsYHg/w300-h400/IMG_20210925_115751220.jpg" width="300" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Figure 1 - Arduino setup with analog pins connected to either side of the resistor. Note the arduino was also used to supply 5V to the circuit. <br /></td></tr></tbody></table>&nbsp;<p></p>The arduino was set to output the time (in $ms$), voltage before the resistor, and voltage after using the serial monitor. The relevant data was then processed with python and Figure 2 generated.<br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto;"><tbody><tr><td style="text-align: center;"><a href="https://1.bp.blogspot.com/-gbDgm5Mt5Xc/YVAxQASBWPI/AAAAAAAAH5o/UU-qvhhogQIl5oXDB_2vD4JzqC3TdCAigCLcBGAsYHQ/s773/figure2-md.png" style="margin-left: auto; margin-right: auto;"><img border="0" data-original-height="604" data-original-width="773" height="501" src="https://1.bp.blogspot.com/-gbDgm5Mt5Xc/YVAxQASBWPI/AAAAAAAAH5o/UU-qvhhogQIl5oXDB_2vD4JzqC3TdCAigCLcBGAsYHQ/w640-h501/figure2-md.png" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Figure 2 - Graph with predicted and measured current of the circuit. The predicted model was made with Equation 2.<br /></td></tr></tbody></table><p></p><p>Surpsingly the data found and the model match up near perfectly, with the current dropping to near zero in roughly $100-150 ms$, as the rule of thumb predicted. The apparent lag behind the model could be due unideal component behaviour or inaccuracy in the data.</p><p><b>UPDATE (19/10/2021):</b></p><p>Code used to analyse data from Arduino is now avaliable on <a href="https://github.com/JHay0112/RC-Circuit-Analysis" target="_blank">my Github</a>.<br /></p><p>*With &gt;5V and a common ground.<br /></p>